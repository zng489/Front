{"version":3,"file":"react-kapsule.js","sources":["../node_modules/jerrypick/dist/jerrypick.mjs","../node_modules/fromentries/index.js","../src/index.js"],"sourcesContent":["function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar pluck = function pluck(obj, keys) {\n  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(keys.map(function (key) {\n    return _defineProperty({}, key, obj[key]);\n  }))));\n};\nvar omit = function omit(obj, keys) {\n  var keySet = new Set(keys);\n  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(obj).filter(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 1),\n      key = _ref3[0];\n    return !keySet.has(key);\n  }).map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n      key = _ref5[0],\n      val = _ref5[1];\n    return _defineProperty({}, key, val);\n  }))));\n};\n\nexport { omit, pluck };\n","/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = function fromEntries (iterable) {\n  return [...iterable].reduce((obj, [key, val]) => {\n    obj[key] = val\n    return obj\n  }, {})\n}\n","import React, {\n  useState,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useMemo,\n  useCallback,\n  forwardRef,\n  useImperativeHandle\n} from 'react';\n\nimport { omit } from 'jerrypick';\n\nimport fromEntries from 'fromentries';\n\nexport default function(kapsuleComponent, comboParam, ...restArgs) {\n\n  const {\n    wrapperElementType = 'div',\n    nodeMapper = node => node,\n    methodNames = [],\n    initPropNames = []\n  } = typeof comboParam === 'object'\n    ? comboParam\n    : { // support old schema for backwards compatibility\n      wrapperElementType: comboParam,\n      methodNames: restArgs[0] || undefined,\n      initPropNames: restArgs[1] || undefined\n    };\n\n  return forwardRef((props, ref) => {\n    const domEl = useRef();\n\n    const [prevProps, setPrevProps] = useState({});\n    useEffect(() => setPrevProps(props)); // remember previous props\n\n    // instantiate the inner kapsule component with the defined initPropNames\n    const comp = useMemo(() => {\n      const configOptions = fromEntries(\n        initPropNames\n          .filter(p => props.hasOwnProperty(p))\n          .map(prop => [prop, props[prop]])\n      );\n\n      return kapsuleComponent(configOptions);\n    }, []);\n\n    useEffectOnce(() => {\n      comp(nodeMapper(domEl.current)); // mount kapsule synchronously on this element ref, optionally mapped into an object that the kapsule understands\n    }, useLayoutEffect);\n\n    useEffectOnce(() => {\n      // invoke destructor on unmount, if it exists\n      return comp._destructor instanceof Function ? comp._destructor : undefined;\n    });\n\n    // Call a component method\n    const _call = useCallback((method, ...args) =>\n      comp[method] instanceof Function\n        ? comp[method](...args)\n        : undefined // method not found\n    , [comp]);\n\n    // propagate component props that have changed\n    const dynamicProps = omit(props, [...methodNames, ...initPropNames]); // initPropNames or methodNames should not be called\n    Object.keys(dynamicProps)\n      .filter(p => prevProps[p] !== props[p])\n      .forEach(p => _call(p, props[p]));\n\n    // bind external methods to parent ref\n    useImperativeHandle(ref, () => fromEntries(\n      methodNames.map(method =>\n        [\n          method,\n          (...args) => _call(method, ...args)\n        ]\n      )\n    ));\n\n    return React.createElement(wrapperElementType, { ref: domEl });\n  });\n}\n\n//\n\n// Handle R18 strict mode double mount at init\nfunction useEffectOnce(effect, useEffectFn = useEffect) {\n  const destroyFunc = useRef();\n  const effectCalled = useRef(false);\n  const renderAfterCalled = useRef(false);\n  const [val, setVal] = useState(0);\n\n  if (effectCalled.current) {\n    renderAfterCalled.current = true;\n  }\n\n  useEffectFn(() => {\n    // only execute the effect first time around\n    if (!effectCalled.current) {\n      destroyFunc.current = effect();\n      effectCalled.current = true;\n    }\n\n    // this forces one render after the effect is run\n    setVal((val) => val + 1);\n\n    return () => {\n      // if the comp didn't render since the useEffect was called,\n      // we know it's the dummy React cycle\n      if (!renderAfterCalled.current) return;\n      if (destroyFunc.current) destroyFunc.current();\n    };\n  }, []);\n}\n"],"names":["kapsuleComponent","comboParam","_ref","_typeof","wrapperElementType","methodNames","arguments","length","undefined","initPropNames","_ref$wrapperElementTy","_ref$nodeMapper","nodeMapper","node","_ref$methodNames","_ref$initPropNames","forwardRef","props","ref","domEl","useRef","_useState","useState","_useState2","_slicedToArray","prevProps","setPrevProps","useEffect","comp","useMemo","configOptions","fromEntries","filter","p","hasOwnProperty","map","prop","useEffectOnce","current","useLayoutEffect","_destructor","Function","_call","useCallback","method","_len","args","Array","_key","apply","dynamicProps","omit","concat","_toConsumableArray","Object","keys","forEach","useImperativeHandle","_len2","_key2","React","createElement","effect","useEffectFn","destroyFunc","effectCalled","renderAfterCalled","_useState3","_useState4","val","setVal"],"mappings":"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","x_google_ignoreList":[0,1]}